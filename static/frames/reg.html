<div id="wrapper">
	
	<div class="panel panel-success">
		<div class="panel-heading">
			Create DB
		</div>
		
		<div class="panel-body">
			<form id="form-reg" class="form-horizontal">
				<div class="form-group">
					<label class="control-label col-sm-3">DB Name</label>
					<div class="col-sm-5">
						<input class="form-control" type="text" name="username">
					</div>
				</div>
				
				<div class="form-group">
					<label class="control-label col-sm-3">Password</label>
					<div class="col-sm-5">
						<input class="form-control" type="password" name="password">
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-sm-3">Password Again</label>
					<div class="col-sm-5">
						<input class="form-control" type="password" id="input-again">
					</div>
				</div>
				
				<div class="form-group">
					<label class="control-label col-sm-3">Summary</label>
					<div class="col-sm-5">
						<textarea class="form-control" name="summary"></textarea>
					</div>
				</div>
				
				<div class="form-group">
					<div class="col-sm-12">
						<input class="btn btn-success" type="submit" value="Create">
					</div>
				</div>
			</form>
		</div>
	</div>
	
</div>



<script>
	(function(){
		//form submit
		var $wrapper = $('#wrapper'),
			$form_reg = $wrapper.find('#form-reg');
		$form_reg.on('submit', function(ev){
			var $form = $(this);
			
			if (! validate()) {
				return false;
			}
			
			$.post('/do/reg', {
				'reg_info': $form.getFormString()
			}, function(reply){
				$.notify(reply['msg']);
				
				if (reply['ok']) {
					$frame.path('check_db');
				}
			});
			
			return false;
			
			function validate(){
				var pass = $form.find('[name="password"]').val(),
					pass_again = $form.find('#input-again').val();
				if (pass_again !== pass) {
					$.notify('not match');
					return false;
				}
				return true;
			}
		});
	})();
</script>